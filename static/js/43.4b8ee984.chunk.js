"use strict";(self.webpackChunkreact_hw_05_movies=self.webpackChunkreact_hw_05_movies||[]).push([[43],{43:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(439),a=n(791),s=n(128),c=n(689),i=n(87),o=n(480),u="MovieDetals_container__cl5A+",l="MovieDetals_image__d-63p",v="MovieDetals_imgContainer__m88LA",f="MovieDetals_information__Lr4-u",d="MovieDetals_name__HSraz",h="MovieDetals_overview__-WuHH",p="MovieDetals_overview_text__J+bkP",m="MovieDetals_list__smnxp",_="MovieDetals_item__FPYak",x="MovieDetals_link__hicLA",j="MovieDetals_back__+B+qL",k=n(159),w=n(184);var g=function(){var e,t,n=(0,a.useState)(""),g=(0,r.Z)(n,2),Z=g[0],b=g[1],N=(0,a.useState)([]),y=(0,r.Z)(N,2),M=y[0],D=y[1],S=(0,a.useState)([]),E=(0,r.Z)(S,2),U=E[0],B=E[1],I=(0,c.UO)().movieId,L=null!==(e=null===(t=(0,c.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies",A=(0,a.useRef)(L);(0,a.useEffect)((function(){b(I)}),[I]),(0,a.useEffect)((function(){""!==Z&&o.Z.fetchMovieById(Z).then((function(e){return D(e)})).catch((function(e){return console.log(e)}))}),[Z]),(0,a.useEffect)((function(){B(M.genres)}),[M]);var C=M.poster_path,H=M.original_title,P=M.overview;return(0,w.jsxs)("div",{children:[(0,w.jsxs)(i.rU,{to:A.current,className:j,children:[(0,w.jsx)(s.jTe,{size:"24"}),"Back to movies"]}),(0,w.jsxs)("div",{className:u,children:[(0,w.jsx)("div",{className:v,children:(0,w.jsx)("img",{src:"".concat(C?"https://image.tmdb.org/t/p/w1280/".concat(C):k),alt:H,className:l})}),(0,w.jsxs)("div",{className:f,children:[(0,w.jsx)("h2",{className:d,children:H}),(0,w.jsx)("h3",{className:h,children:"OVERVIEW"}),(0,w.jsx)("p",{className:p,children:P}),(0,w.jsx)("h2",{className:h,children:"GENRES"}),(0,w.jsx)("ul",{className:m,children:U&&U.map((function(e){return(0,w.jsx)("li",{className:_,children:e.name},e.id)}))}),(0,w.jsx)("h3",{className:h,children:"Additional information"}),(0,w.jsxs)("nav",{children:[(0,w.jsxs)("ul",{className:m,children:[(0,w.jsx)("li",{className:_,children:(0,w.jsx)(i.rU,{className:x,to:"cast",children:"cast"})}),(0,w.jsx)("li",{className:_,children:(0,w.jsx)(i.rU,{className:x,to:"reviews",children:"reviews"})})]}),(0,w.jsx)("br",{})]})]})]}),(0,w.jsx)("div",{children:(0,w.jsx)(a.Suspense,{fallback:(0,w.jsx)("div",{children:"Loading..."}),children:(0,w.jsx)(c.j3,{})})})]})}},480:function(e,t,n){var r=n(165),a=n(861),s="14f90a9673a8e38c0e2c74de4fe9bbab",c="https://api.themoviedb.org/3/",i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"trending/movie/day?api_key=").concat(s));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"movie/").concat(t,"?api_key=").concat(s,"&language=en-US"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"movie/").concat(t,"/credits?api_key=").concat(s,"&language=en-US"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"movie/").concat(t,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("\u0447\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"search/movie?api_key=").concat(s,"&language=en-US&page=1&query=").concat(t,"&include_adult=true"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f={fetchPopularMovies:i,fetchMovieById:o,fetchCastById:u,fetchReviewsById:l,fetchMovies:v};t.Z=f},159:function(e,t,n){e.exports=n.p+"static/media/mask.94d073188744fb8e9ddc.jpg"}}]);
//# sourceMappingURL=43.4b8ee984.chunk.js.map