{"version":3,"file":"static/js/43.4b8ee984.chunk.js","mappings":"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","sources":["webpack://react-hw-05-movies/./src/pages/MovieDetals.module.css?6ed7","pages/MovieDetals.js","servise/ApiMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetals_container__cl5A+\",\"image\":\"MovieDetals_image__d-63p\",\"imgContainer\":\"MovieDetals_imgContainer__m88LA\",\"information\":\"MovieDetals_information__Lr4-u\",\"name\":\"MovieDetals_name__HSraz\",\"overview\":\"MovieDetals_overview__-WuHH\",\"overview_text\":\"MovieDetals_overview_text__J+bkP\",\"list\":\"MovieDetals_list__smnxp\",\"item\":\"MovieDetals_item__FPYak\",\"link\":\"MovieDetals_link__hicLA\",\"back\":\"MovieDetals_back__+B+qL\"};","import { useEffect, useState, useRef, Suspense } from 'react';\nimport { HiArrowLeft } from 'react-icons/hi';\n\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\n\nimport fetchApi from '../servise/ApiMovies';\nimport s from './MovieDetals.module.css';\nimport mask from '../images/mask.jpg';\n\nfunction MovieDetals() {\n  const [movieIds, setMovieId] = useState('');\n  const [detalsMovie, setDetalsMovie] = useState([]);\n  const [movieGenres, setMovieGenres] = useState([]);\n\n  const { movieId } = useParams();\n\n  const location = useLocation();\n\n  const backLinkHref = location.state?.from ?? '/movies';\n  const backLinkLocationRef = useRef(backLinkHref);\n\n  useEffect(() => {\n    setMovieId(movieId);\n  }, [movieId]);\n\n  useEffect(() => {\n    if (movieIds !== '') {\n      fetchApi\n        .fetchMovieById(movieIds)\n        .then(response => setDetalsMovie(response))\n        .catch(error => console.log(error));\n    }\n  }, [movieIds]);\n\n  useEffect(() => {\n    setMovieGenres(detalsMovie.genres);\n  }, [detalsMovie]);\n  const { poster_path, original_title, overview } = detalsMovie;\n  return (\n    <div>\n      <Link to={backLinkLocationRef.current} className={s.back}>\n        <HiArrowLeft size=\"24\" />\n        Back to movies\n      </Link>\n\n      <div className={s.container}>\n        <div className={s.imgContainer}>\n          <img\n            src={`${\n              poster_path\n                ? `https://image.tmdb.org/t/p/w1280/${poster_path}`\n                : mask\n            }`}\n            alt={original_title}\n            className={s.image}\n          />\n        </div>\n        <div className={s.information}>\n          <h2 className={s.name}>{original_title}</h2>\n          <h3 className={s.overview}>OVERVIEW</h3>\n          <p className={s.overview_text}>{overview}</p>\n          <h2 className={s.overview}>GENRES</h2>\n          <ul className={s.list}>\n            {movieGenres &&\n              movieGenres.map(genre => (\n                <li key={genre.id} className={s.item}>\n                  {genre.name}\n                </li>\n              ))}\n          </ul>\n\n          <h3 className={s.overview}>Additional information</h3>\n\n          <nav>\n            <ul className={s.list}>\n              <li className={s.item}>\n                <Link className={s.link} to=\"cast\">\n                  cast\n                </Link>\n              </li>\n              <li className={s.item}>\n                <Link className={s.link} to=\"reviews\">\n                  reviews\n                </Link>\n              </li>\n            </ul>\n            <br />\n          </nav>\n        </div>\n      </div>\n      <div>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </div>\n  );\n}\nexport default MovieDetals;\n","const API_KEY = '14f90a9673a8e38c0e2c74de4fe9bbab';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst fetchPopularMovies = async function () {\n  const response = await fetch(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data;\n};\n\nconst fetchMovieById = async function (id) {\n  const response = await fetch(\n    `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n  const data = await response.json();\n  return data;\n};\nconst fetchCastById = async function (id) {\n  const response = await fetch(\n    `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  const data = await response.json();\n  return data;\n};\n\nconst fetchReviewsById = async function (id) {\n  const response = await fetch(\n    `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('что-то не так'));\n};\nconst fetchMovies = async function (search) {\n  const response = await fetch(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&page=1&query=${search}&include_adult=true`\n  );\n  const data = await response.json();\n  return data;\n};\n\nconst fetchApi = {\n  fetchPopularMovies,\n  fetchMovieById,\n  fetchCastById,\n  fetchReviewsById,\n  fetchMovies,\n};\nexport default fetchApi;\n"],"names":["_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","movieIds","setMovieId","_useState3","_useState4","detalsMovie","setDetalsMovie","_useState5","_useState6","movieGenres","setMovieGenres","movieId","useParams","backLinkHref","useLocation","state","from","backLinkLocationRef","useRef","useEffect","fetchApi","then","response","catch","error","console","log","genres","poster_path","original_title","overview","_jsxs","children","Link","to","current","className","s","_jsx","HiArrowLeft","size","src","concat","mask","alt","map","genre","name","id","Suspense","fallback","Outlet","API_KEY","BASE_URL","fetchPopularMovies","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","apply","arguments","fetchMovieById","_ref2","_callee2","_context2","_x","fetchCastById","_ref3","_callee3","_context3","_x2","fetchReviewsById","_ref4","_callee4","_context4","ok","t0","Promise","reject","Error","_x3","fetchMovies","_ref5","_callee5","search","_context5","_x4"],"sourceRoot":""}